# 画像サイズ別の縮小パフォーマンス計測

## 実行方法

```
bundle install
ruby run.rb
```

## 実行結果（参考）

### 実行環境

```
MacBook Pro (Retina, 15-inch Early 2013)
macOS High Sierra(10.13.3)
2.7Ghz Intel Core i7
16GB 1600MHz DDR3
ImageMagick 7.0.6-7 Q16 x86_64 2017-08-12
```

### 結果

```
大きな画像から、そこそこ大きい画像（幅2000px）に縮小するときのパフォーマンス差
Warming up --------------------------------------
        5000 -> 2000     1.000  i/100ms
        2500 -> 2000     1.000  i/100ms
Calculating -------------------------------------
        5000 -> 2000      0.535  (± 0.0%) i/s -      3.000  in   5.631265s
        2500 -> 2000      1.414  (± 0.0%) i/s -      8.000  in   5.663664s

Comparison:
        2500 -> 2000:        1.4 i/s
        5000 -> 2000:        0.5 i/s - 2.64x  slower

大きな画像から、中ぐらいの画像（幅1000px）に縮小するときのパフォーマンス差
Warming up --------------------------------------
        5000 -> 1000     1.000  i/100ms
        2500 -> 1000     1.000  i/100ms
        1250 -> 1000     1.000  i/100ms
Calculating -------------------------------------
        5000 -> 1000      0.685  (± 0.0%) i/s -      4.000  in   5.837504s
        2500 -> 1000      2.122  (± 0.0%) i/s -     11.000  in   5.188109s
        1250 -> 1000      5.181  (± 0.0%) i/s -     26.000  in   5.026357s

Comparison:
        1250 -> 1000:        5.2 i/s
        2500 -> 1000:        2.1 i/s - 2.44x  slower
        5000 -> 1000:        0.7 i/s - 7.56x  slower

大きな画像から、小さい画像（幅400px）に縮小するときのパフォーマンス差
Warming up --------------------------------------
         5000 -> 400     1.000  i/100ms
         2500 -> 400     1.000  i/100ms
         1250 -> 400     1.000  i/100ms
          625 -> 400     1.000  i/100ms
Calculating -------------------------------------
         5000 -> 400      0.744  (± 0.0%) i/s -      4.000  in   5.379174s
         2500 -> 400      3.021  (± 0.0%) i/s -     16.000  in   5.301692s
         1250 -> 400      8.492  (± 0.0%) i/s -     43.000  in   5.080691s
          625 -> 400     16.379  (± 6.1%) i/s -     82.000  in   5.059068s

Comparison:
          625 -> 400:       16.4 i/s
         1250 -> 400:        8.5 i/s - 1.93x  slower
         2500 -> 400:        3.0 i/s - 5.42x  slower
         5000 -> 400:        0.7 i/s - 22.02x  slower
```

## 素材画像

Photo by Stephen Pedersen on Unsplash
